---
name:  glmDIF
title: Differential Item Functioning
jrs:   '1.1'

items:
   # - name: debug
   #   title: debug
   #   type: Preformatted

    - name: instructions
      title: Instructions
      type: Html
      visible: True

    - name:  DESCtable
      title: Procedure Notes
      type:  Table
      rows: 0
      refs: binaryDIF
      clearWith: 
          - item
          - group
          - matchVar
          - anchor
          - groupType
          - difFlagScale
          - type
          - criterion
          - alpha
          - nIter
          - purify
          - pAdjustMethod
          - designAnalysis
          - designAnalysisSigOnly
          - bootSims
          - D
      columns: 
        - name: bob
          title: ""
          type: text

    - name:  DIFtable
      title: Differential Item Functioning Analysis
      type: Table
      rows:  (item)
      clearWith: 
          - item
          - group
          - matchVar
          - anchor
          - groupType
          - difFlagScale
          - type
          - criterion
          - alpha
          - nIter
          - purify
          - pAdjustMethod

      columns:
        - name: item
          title: Item
          type: text

        - name: ZT
          title: Zumbo-Thomas
          type: text
          visible: (difFlagScale:zt)

        - name: JG
          title: Jodoin-Gierl
          type: text
          visible: (difFlagScale:jg)

        #- name: difType
        #  title: Result
        #  type: text

        - name: p
          title: P-value
          type: number
          format: zto,pvalue

        - name: chiSquare
          title: "\u03A7\u00B2 Stat."
          type: number

        - name: effSize
          title: "Naeglekirke R\u00B2"
          type: number
          format: zto
          visible: (nagEff)

        - name: coeffMain
          title: Main Effect
          type: number
          visible: (coeffEff)

        - name: coeffInteraction
          title: Interaction Effect
          type: number
          visible: (coeffEff)


    - name: gcTable
      title: "Design Analysis - Naeglekirke R\u00B2"
      type: Table
      rows: 0
      visible: (designAnalysis)
      clearWith: 
          - item
          - group
          - matchVar
          - anchor
          - groupType
          - difFlagScale
          - type
          - criterion
          - alpha
          - nIter
          - purify
          - pAdjustMethod
          - designAnalysis
          - designAnalysisSigOnly
          - bootSims
          - D
      columns:
        - name: label
          title: Effect
          type: text        
        - name: itemName
          title: Item
          type: text
        - name: obsEff
          title: Obs. Effect
          type: text
        - name: bootSE
          title: Bootstrap SE
          type: number
        - name: typeM
          title: Type-M
          type: number
        - name: power
          title: Empirical Observed Power
          type: number
          format: (zto)
          visible: (power)

    - name: gcTableCoefficients
      title: "Design Analysis - Regression Coefficients"
      type: Table
      rows: 0
      visible: False
      clearWith: 
          - item
          - group
          - matchVar
          - anchor
          - groupType
          - difFlagScale
          - type
          - criterion
          - alpha
          - nIter
          - purify
          - pAdjustMethod
          - designAnalysis
          - designAnalysisSigOnly
          - bootSims
          - D
      columns:
        - name: label
          title: Effect
          type: text
        - name: itemName
          title: Item
          type: text
        - name: hypTrueEff
          title: Hyp. True Effect
          type: text 
        - name: obsMain
          title: Obs. Main
          type: text
        - name: obsMainSE
          title: Obs. Main SE
        - name: typeMMain
          title: Type-M Main
          type: number
        - name: typeSMain
          title: Type-S Main
          type: number
        - name: powerMain
          title: Observed Power Main
          type: number
          format: (zto)
          visible: (power)
        - name: obsInt
          title: Obs. Interaction
          type: text
        - name: obsIntSE
          title: Obs. Interaction SE
          type: number
        - name: typeMInt
          title: Type-M Int
          type: number
        - name: typeSInt
          title: Type-S Int
          type: number
        - name: powerInt
          title: Observed Power Int
          type: number
          format: (zto)
          visible: (power)

    - name: ICCplots
      title: Item Response Curves - Based on Logistic Regression
      type: Array
      items: (plotVarsICC)
      template:
          type: Image
          width:  550
          height: 450
          renderFun: .plotICC
          visible: (plotVarsICC)
          requiresData: TRUE
          clearWith: 
              - item
              - group
              - matchVar
              - anchor
              - groupType
              - difFlagScale
              - type
              - criterion
              - alpha
              - nIter
              - purify
              - pAdjustMethod

...